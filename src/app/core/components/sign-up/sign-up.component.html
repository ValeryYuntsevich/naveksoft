<div class="container">
    <div class="register">
        <div>
            <h2>Register</h2>
        </div>
        <div>
            <!-- <form class="form" [formGroup]="registerForm" (ngSubmit)="onSubmit()"> -->
            <form class="form" [formGroup]="userForm" (ngSubmit)="onSubmit()">
                <!-- Select username -->
                <mat-form-field>
                    <input type="text" matInput placeholder="Username" formControlName='username' #username required>
                    <button *ngIf="username.value" (click)="username.value = ''" matSuffix type="button"
                        mat-icon-button>
                        <mat-icon>close</mat-icon>
                    </button>
                    <mat-error *ngIf="userForm.get('username').hasError('required')">
                        Username is required!
                    </mat-error>
                </mat-form-field>
                <!-- Select email  -->
                <mat-form-field>
                    <input type="email" matInput placeholder="Email" formControlName="email" #email required>
                    <button *ngIf="email.value" (click)="email.value = ''" matSuffix type="button" mat-icon-button>
                        <mat-icon>close</mat-icon>
                    </button>
                    <mat-error *ngIf="userForm.get('email').hasError('required')">
                        Username is required!
                    </mat-error>
                    <mat-error *ngIf="userForm.get('email').hasError('email')">
                        Email must be a valid email address!
                    </mat-error>
                </mat-form-field>
                <!-- Select password  -->
                <mat-form-field>
                    <input [type]="hidePassword ? 'password' : 'text'" matInput placeholder="Password"
                        formControlName="password" required>
                    <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword">
                        <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
                    </button>
                    <mat-error *ngIf="userForm.get('password').hasError('required')">
                        Password is required!
                    </mat-error>
                </mat-form-field>
                <!-- Select confirm password  -->
                <mat-form-field>
                    <input [type]="hideVerifyPassword ? 'password' : 'text'" matInput placeholder="Verify password"
                        formControlName='verifyPassword' (input)="onPasswordInput()" required>
                    <button mat-icon-button matSuffix (click)="hideVerifyPassword = !hideVerifyPassword">
                        <mat-icon>{{ hideVerifyPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
                    </button>
                    <mat-error *ngIf="userForm.hasError('passwordMismatch')">
                        Passwords must match!
                    </mat-error>
                </mat-form-field>
                <!-- Select avatar -->
                <mat-form-field>
                    <input [hidden]="true" (change)="onFileSelect($event)" type="file" accept="all/*" #fileSelect>
                    <input readonly matInput [value]="filename" placeholder="Select avatar..." />
                    <button matSuffix mat-icon-button (click)="fileSelect.click()">
                        <mat-icon>file_upload</mat-icon>
                    </button>
                </mat-form-field>

                <button mat-raised-button color="primary" type="submit" [disabled]="userForm.invalid">Submit</button>
                <p><a routerLink="/login">Go back</a></p>
            </form>
        </div>
    </div>
</div>